%h1.fs-2.mb-3 客室タイプ詳細

.card
  .card-body
    = room_type_image_tag(@room_type, :display)
    %dl.row
      %dt.col-sm-3= RoomType.human_attribute_name(:name)
      %dd.col-sm-9= @room_type.name

      %dt.col-sm-3= RoomType.human_attribute_name(:description)
      %dd.col-sm-9= simple_format(@room_type.description)

      %dt.col-sm-3= RoomType.human_attribute_name(:capacity)
      %dd.col-sm-9 #{@room_type.capacity}名

      %dt.col-sm-3= RoomType.human_attribute_name(:base_price)
      %dd.col-sm-9= number_to_currency(@room_type.base_price)

.mt-3.d-flex.justify-content-between
  = link_to t('general.edit'), edit_administrators_accommodation_room_type_path(@accommodation, @room_type), class: 'btn btn-primary'
  = button_to t('general.destroy'), administrators_accommodation_room_type_path(@accommodation, @room_type), method: :delete, data: { turbo_confirm: t('confirm.destroy') }, class: 'btn btn-outline-danger'

%h2.fs-3.mt-5.mb-3 空いている部屋の一覧

.d-flex.justify-content-end.mb-3
  = link_to '空いている部屋を追加', new_administrators_accommodation_room_type_room_availability_path(@accommodation, @room_type), class: 'btn btn-success'

- if @room_type.room_availabilities.any?
  %table.table.table-striped
    %thead
      %tr
        %th= RoomAvailability.human_attribute_name(:date)
        %th= RoomAvailability.human_attribute_name(:remaining_rooms)
        %th
    %tbody
      - @room_type.room_availabilities.default_order.each do |room_availability|
        %tr
          %td= room_availability.date
          %td= room_availability.remaining_rooms
          %td= link_to t('general.edit'), edit_administrators_accommodation_room_type_room_availability_path(@accommodation, @room_type, room_availability), class: 'btn btn-sm btn-primary'

- else
  %p.text-muted 空いている部屋が登録されていません
